<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Title</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>-->
<!--    <style>-->
<!--        div {-->
<!--            width: 550px;-->
<!--            margin: auto;-->
<!--        }-->

<!--        h1 {-->
<!--            text-align: center;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <form>-->
<!--        <h1>Login</h1>-->
<!--        <div class="mb-3 mt-3">-->
<!--            <label for="username" class="form-label">Username:</label>-->
<!--            <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">-->
<!--        </div>-->
<!--        <div class="mb-3 mt-3">-->
<!--            <label for="password" class="form-label">Password:</label>-->
<!--            <input type="password" class="form-control" id="password" placeholder="Enter password" name="password">-->
<!--        </div>-->
<!--        <div class="mb-3 mt-3">-->
<!--            <button class="btn btn-primary" onclick="login()">Login</button>-->
<!--        </div>-->
<!--    </form>-->
<!--</div>-->
<!--</body>-->
<!--<script src="login.js"></script>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

<h2>Login</h2>
<form id="loginForm">
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required>
    <br>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>
    <br>
    <button type="button" onclick="login()">Login</button>
</form>

<script>
    // function login() {
    //     var username = $("#username").val();
    //     var password = $("#password").val();
    //
    //     $.ajax({
    //         type: "POST",
    //         url: "/login",
    //         contentType: "application/json",
    //         data: JSON.stringify({ "username": username, "password": password }),
    //         success: function (response) {
    //             if (response.token) {
    //                 // Lưu token vào localStorage hoặc cookie
    //                 console.log("Token:", response.token);
    //
    //                 // Redirect đến URL được trả về từ server
    //                 window.location.href = response.redirectUrl;
    //             } else {
    //                 console.error("Error:", response);
    //             }
    //         },
    //         error: function (error) {
    //             console.error("Error:", error.responseText);
    //         }
    //     });
    // }
    function login() {
        let username = $("#username").val()
        let password = $("#password").val()
        let user = {
            username: username,
            password: password,
        }
        $.ajax({
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            type: "POST",
            url: "http://localhost:8080/api/login",
            data: JSON.stringify(user),
            success: function (data) {
                // sessionStorage.setItem("token", data.accessToken)
                // window.location.href = "index.html"
                sessionStorage.setItem("token", data.accessToken);
                window.location.href = data.redirectUrl;
            }
        })
        event.preventDefault();
    }


</script>

</body>
</html>
